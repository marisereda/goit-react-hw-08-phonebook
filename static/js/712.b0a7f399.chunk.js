"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[712],{816:function(n,e,t){t.d(e,{z:function(){return o}});var r=t(4224),i=t(184),o=function(n){var e=n.type,t=n.children,o=n.isLoading,a=n.loadingText;return(0,i.jsx)(r.z,{type:e,isLoading:o,loadingText:a,colorScheme:"accent",bg:"accent.400",fontWeight:"bold",minW:"10rem",children:t})}},1975:function(n,e,t){t.d(e,{R:function(){return c}});var r=t(1413),i=t(5987),o=t(5946),a=t(184),s=["children"],c=function(n){var e=n.children,t=(0,i.Z)(n,s);return(0,a.jsx)(o.X,(0,r.Z)((0,r.Z)({as:"h2",fontSize:"2xl",textAlign:"center",color:"gray.600"},t),{},{children:e}))}},8941:function(n,e,t){t.d(e,{I:function(){return c}});var r=t(826),i=t(3821),o=t(7886),a=t(5705),s=t(184),c=function(n){var e=n.name,t=void 0===e?"":e,c=n.type,l=void 0===c?"text":c,d=n.icon;return(0,s.jsxs)(r.B,{children:[(0,s.jsx)(i.Z,{pointerEvents:"none",children:d}),(0,s.jsx)(a.gN,{as:o.I,name:t,type:l,paddingLeft:"9",fontSize:"lg",fontWeight:"bold",color:"gray.600",variant:"outline",bg:"bg.50",borderColor:"gray.400",focusBorderColor:"brand.600"})]})}},7125:function(n,e,t){t.d(e,{m:function(){return a}});var r=t(1295),i=t(4087),o=t(184),a=function(){var n=(0,r.p)({title:"",position:"top-right",duration:5e3,isClosable:!0});return function(e){var t=e.description,r=e.status;n({render:function(){return(0,o.jsx)(i.xu,{color:"white",p:3,borderRadius:"4",textAlign:"center",bg:"error"===r?"accent.500":"brand.500",children:t})}})}}},4712:function(n,e,t){t.r(e),t.d(e,{default:function(){return P}});var r=t(9439),i=t(2791),o=t(9434),a=t(1213),s=t(5705),c=t(1724),l=t(828),d=t(8656),u=t(4363),h=t(2701),f=t(5341),x=t(1975),g=t(816),m=t(8941),p=t(4585),j=t(184),b=function(n){var e=n.children;return(0,j.jsx)(p.l,{color:"brand.600",fontWeight:"bold",children:e})},v=t(6351),y={name:"",phone:""},C=c.Ry().shape({name:c.Z_().required("Contact name is required"),phone:c.Z_().min(7,"At least 7 digits is required").max(12,"At most 12 digits is required").required("Phone number is required")}),w=function(n){var e=n.saveContact,t=(0,o.v9)(v.w.addContactIsLoading);return(0,j.jsxs)(a.g,{as:"section",py:"10",px:"16",bg:"bg.100",align:"stretch",justify:"center",spacing:6,children:[(0,j.jsx)(x.R,{children:"Phonebook"}),(0,j.jsx)(s.J9,{initialValues:y,onSubmit:function(n,t){var r=t.resetForm;e({name:n.name.trim(),phone:n.phone.trim()}),r()},validationSchema:C,children:function(n){var e=n.handleSubmit,r=n.errors;return(0,j.jsx)("form",{onSubmit:e,children:(0,j.jsxs)(a.g,{spacing:6,mx:"auto",maxW:"sm",children:[(0,j.jsxs)(h.NI,{isInvalid:r.name,children:[(0,j.jsx)(b,{children:"Name"}),(0,j.jsx)(m.I,{name:"name",type:"text",icon:(0,j.jsx)(u.J,{as:l.Bmn,color:"brand.600",boxSize:"6"})}),(0,j.jsx)(f.J1,{children:r.name})]}),(0,j.jsxs)(h.NI,{isInvalid:r.phone,children:[(0,j.jsx)(b,{children:"Number"}),(0,j.jsx)(m.I,{name:"phone",type:"tel",icon:(0,j.jsx)(d.q,{color:"brand.600",boxSize:"5"})}),(0,j.jsx)(f.J1,{children:r.phone})]}),(0,j.jsx)(g.z,{type:"submit",isLoading:t,loadingText:"Adding",children:"Add contact"})]})})}})]})},S=t(1243),I=t(176),z=t(9229),k=t(7885),_=t(3204),q=t(208),L=function(n){var e=n.id,t=n.name,r=n.phone,i=(0,o.I0)(),a=(0,o.v9)(v.w.whoIsUpdating);return(0,j.jsxs)(I.k,{align:"center",gap:"2",as:"li",children:[(0,j.jsx)(d.q,{boxSize:5,color:"accent.400"}),(0,j.jsxs)(z.x,{flexGrow:"1",fontSize:"xl",fontWeight:"bold",color:"gray.600",children:[t,":"]}),(0,j.jsx)(z.x,{fontSize:"xl",color:"gray.600",children:r}),(0,j.jsx)(k.h,{name:e,type:"button","aria-label":"Remove contact",onClick:function(){return i((0,q.GK)(e))},color:"brand.600",bg:"transparent",icon:a.includes(e)?(0,j.jsx)(_.$,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"brand.600",size:"md"}):(0,j.jsx)(S.p,{boxSize:6})})]})},R=t(7886),W=t(6895),Z=function(){var n=(0,o.v9)(v.w.filter),e=(0,o.I0)();return(0,j.jsx)(a.g,{align:"start",minW:"sm",children:(0,j.jsxs)(h.NI,{children:[(0,j.jsx)(b,{children:"Find contacts by name"}),(0,j.jsx)(R.I,{name:"filter",onChange:function(n){var t=n.target.value.toLowerCase().trim();e((0,W.M6)(t))},value:n,fontSize:"lg",fontWeight:"bold",color:"gray.600",variant:"outline",bg:"bg.50",borderColor:"gray.400",focusBorderColor:"brand.600"})]})})},A=t(3661),N=function(){var n=(0,o.v9)(A.Af),e=(0,o.v9)(v.w.filter),t=(0,o.I0)();(0,i.useEffect)((function(){t((0,q.yF)())}),[t]);return(0,j.jsxs)(a.g,{as:"section",justify:"start",align:"center",flexGrow:"1",spacing:"6",px:"16",py:"10",bg:"bg.50",children:[(0,j.jsx)(x.R,{children:"Contacts"}),(0,j.jsx)(Z,{}),(0,j.jsx)(a.g,{as:"ul",alignItems:"stretch",alignSelf:"stretch",children:(e?n.filter((function(n){return n.name.toLowerCase().includes(e)})):n).map((function(n){var e=n._id,t=n.name,r=n.phone;return(0,j.jsx)(L,{id:e,name:t,phone:r},e)}))})]})},J=t(4952),B=t(3380),G=t(7693),T=t(7521),E=t(4653),F=t(4224),O=function(n){var e=n.isOpen,t=n.name,r=n.onClose,o=(0,i.useRef)();return(0,j.jsx)(J.a,{isOpen:e,leastDestructiveRef:o,onClose:r,children:(0,j.jsx)(B.Z,{children:(0,j.jsxs)(J._,{bg:"bg.50",children:[(0,j.jsx)(G.x,{fontSize:"lg",fontWeight:"bold",as:"h3",children:"Update Contact"}),(0,j.jsxs)(T.f,{as:"p",children:[(0,j.jsx)(z.x,{as:"b",children:t})," is in the cotacts already. Do you want to update the contact?"]}),(0,j.jsxs)(E.m,{children:[(0,j.jsx)(F.z,{ref:o.current,onClick:function(){r(!1)},variant:"outline",children:"Cancel"}),(0,j.jsx)(F.z,{colorScheme:"accent",bg:"accent.400",onClick:function(){r(!0)},ml:3,children:"Update"})]})]})})})},U=t(7125),D=t(1678),K=t(7496),P=function(){var n=(0,o.v9)(A.Af),e=(0,o.v9)(v.w.errorContacts),t=(0,o.I0)(),s=(0,U.m)(),c=(0,i.useState)({id:"",name:"",phone:""}),l=(0,r.Z)(c,2),d=l[0],u=l[1],h=(0,i.useState)(!1),f=(0,r.Z)(h,2),x=f[0],g=f[1];(0,i.useEffect)((function(){"Request failed with status code 401"===e&&((0,D.ob)(),t(K.Jo))}),[t,e]);return(0,j.jsxs)(a.g,{as:"main",justify:"start",align:"stretch",spacing:"0",flexGrow:"1",children:[(0,j.jsx)(w,{saveContact:function(e){var r=e.name,i=e.phone,o=r.toLowerCase(),a=n.find((function(n){return n.name.toLowerCase().trim()===o}));a?a.phone!==i.trim()?(u({id:a._id,name:r,phone:i}),g(!0)):s({description:"".concat(r," is already in contacts!"),status:"info"}):t((0,q.uK)({name:r,phone:i}))}}),(0,j.jsx)(N,{}),(0,j.jsx)(O,{name:d.name,isOpen:x,onClose:function(n){if(g(!1),n){var e=d.id,r=d.name,i=d.phone;t((0,q.Tk)({id:e,name:r,phone:i}))}}})]})}}}]);
//# sourceMappingURL=712.b0a7f399.chunk.js.map
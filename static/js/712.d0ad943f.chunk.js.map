{"version":3,"file":"static/js/712.d0ad943f.chunk.js","mappings":"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","sources":["components/Button.jsx","components/HeadingSection.jsx","components/Input.jsx","hooks/useMyToast.js","components/FormLabel.jsx","components/ContactForm.jsx","components/Contact.jsx","components/Filter.jsx","components/ContactList.jsx","components/Dialog.jsx","pages/PhoneBook.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { Button as ButtonChakra } from '@chakra-ui/react';\n\nexport const Button = ({ type, children, isLoading, loadingText }) => {\n  return (\n    <ButtonChakra\n      type={type}\n      isLoading={isLoading}\n      loadingText={loadingText}\n      colorScheme=\"accent\"\n      bg=\"accent.400\"\n      fontWeight=\"bold\"\n      minW=\"10rem\"\n    >\n      {children}\n    </ButtonChakra>\n  );\n};\n\nButton.propTypes = {\n  type: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  loadingText: PropTypes.string.isRequired,\n};\n","import { Heading } from '@chakra-ui/react';\n\nexport const HeadingSection = ({ children, ...props }) => {\n  return (\n    <Heading\n      as=\"h2\"\n      fontSize=\"2xl\"\n      textAlign=\"center\"\n      color=\"gray.600\"\n      {...props}\n    >\n      {children}\n    </Heading>\n  );\n};\n","import {\n  Input as InputChakra,\n  InputGroup,\n  InputLeftElement,\n} from '@chakra-ui/react';\nimport { Field } from 'formik';\nimport PropTypes from 'prop-types';\n\nexport const Input = ({ name = '', type = 'text', icon }) => {\n  return (\n    <InputGroup>\n      <InputLeftElement pointerEvents=\"none\" children={icon} />\n      <Field\n        as={InputChakra}\n        name={name}\n        type={type}\n        paddingLeft=\"9\"\n        fontSize=\"lg\"\n        fontWeight=\"bold\"\n        color=\"gray.600\"\n        variant=\"outline\"\n        bg=\"bg.50\"\n        borderColor=\"gray.400\"\n        focusBorderColor=\"brand.600\"\n      />\n    </InputGroup>\n  );\n};\n\nInput.propTypes = {\n  name: PropTypes.string,\n  type: PropTypes.string,\n  icon: PropTypes.node,\n};\n","import { useToast, Box } from '@chakra-ui/react';\n\nexport const useMyToast = () => {\n  const toast = useToast({\n    title: ``,\n    position: 'top-right',\n    duration: 5000,\n    isClosable: true,\n  });\n  return ({ description, status }) => {\n    toast({\n      render: () => (\n        <Box\n          color=\"white\"\n          p={3}\n          borderRadius=\"4\"\n          textAlign=\"center\"\n          bg={status === 'error' ? 'accent.500' : 'brand.500'}\n        >\n          {description}\n        </Box>\n      ),\n    });\n  };\n};\n","import { FormLabel as FormLabelChakra } from '@chakra-ui/react';\n\nexport const FormLabel = ({ children }) => {\n  return (\n    <FormLabelChakra color=\"brand.600\" fontWeight=\"bold\">\n      {children}\n    </FormLabelChakra>\n  );\n};\n","import { useSelector } from 'react-redux';\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\nimport { ImUser } from 'react-icons/im';\nimport { PhoneIcon } from '@chakra-ui/icons';\nimport { Icon } from '@chakra-ui/react';\nimport { FormControl, FormErrorMessage, VStack } from '@chakra-ui/react';\n\nimport { HeadingSection } from 'components/HeadingSection';\nimport { Button } from 'components/Button';\nimport { Input } from 'components/Input';\nimport { FormLabel } from 'components/FormLabel';\nimport { selectors } from 'redux/selectors';\n\nconst initialValues = {\n  name: '',\n  phone: '',\n};\n\nlet schema = yup.object().shape({\n  name: yup.string().required('Contact name is required'),\n  phone: yup\n    .string()\n    .min(7, 'At least 7 digits is required')\n    .max(12, 'At most 12 digits is required')\n    .required('Phone number is required'),\n});\n\n// ---------------- Component ContactForm function ----------------\n\nexport const ContactForm = ({ saveContact }) => {\n  const addContactIsLoading = useSelector(selectors.addContactIsLoading);\n\n  // ---------------- Handle Submit ----------------\n  const handleSubmit = (values, { resetForm }) => {\n    saveContact({\n      name: values.name.trim(),\n      phone: values.phone.trim(),\n    });\n\n    resetForm();\n  };\n\n  // ---------------- Return ----------------\n  return (\n    <VStack\n      as=\"section\"\n      py=\"10\"\n      px=\"16\"\n      bg=\"bg.100\"\n      align=\"stretch\"\n      justify=\"center\"\n      spacing={6}\n    >\n      <HeadingSection>Phonebook</HeadingSection>\n      <Formik\n        initialValues={initialValues}\n        onSubmit={handleSubmit}\n        validationSchema={schema}\n      >\n        {({ handleSubmit, errors }) => (\n          <form onSubmit={handleSubmit}>\n            <VStack spacing={6} mx=\"auto\" maxW=\"sm\">\n              <FormControl isInvalid={errors.name}>\n                <FormLabel>Name</FormLabel>\n                <Input\n                  name=\"name\"\n                  type=\"text\"\n                  icon={<Icon as={ImUser} color=\"brand.600\" boxSize=\"6\" />}\n                />\n                <FormErrorMessage>{errors.name}</FormErrorMessage>\n              </FormControl>\n              <FormControl isInvalid={errors.phone}>\n                <FormLabel>Number</FormLabel>\n                <Input\n                  name=\"phone\"\n                  type=\"tel\"\n                  icon={<PhoneIcon color=\"brand.600\" boxSize=\"5\" />}\n                />\n                <FormErrorMessage>{errors.phone}</FormErrorMessage>\n              </FormControl>\n\n              <Button\n                type=\"submit\"\n                isLoading={addContactIsLoading}\n                loadingText=\"Adding\"\n              >\n                Add contact\n              </Button>\n            </VStack>\n          </form>\n        )}\n      </Formik>\n    </VStack>\n  );\n};\n","import PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { DeleteIcon, PhoneIcon } from '@chakra-ui/icons';\nimport { Flex, Text, IconButton, Spinner } from '@chakra-ui/react';\nimport { deleteContact } from 'redux/operations';\nimport { selectors } from 'redux/selectors';\n\nexport const Contact = ({ id, name, phone }) => {\n  const dispatch = useDispatch();\n  const whoIsUpdating = useSelector(selectors.whoIsUpdating);\n\n  return (\n    <Flex align=\"center\" gap=\"2\" as=\"li\">\n      <PhoneIcon boxSize={5} color=\"accent.400\" />\n      <Text flexGrow=\"1\" fontSize=\"xl\" fontWeight=\"bold\" color=\"gray.600\">\n        {name}:\n      </Text>\n      <Text fontSize=\"xl\" color=\"gray.600\">\n        {phone}\n      </Text>\n      <IconButton\n        name={id}\n        type=\"button\"\n        aria-label=\"Remove contact\"\n        onClick={() => dispatch(deleteContact(id))}\n        color=\"brand.600\"\n        bg=\"transparent\"\n        icon={\n          whoIsUpdating.includes(id) ? (\n            <Spinner\n              thickness=\"4px\"\n              speed=\"0.65s\"\n              emptyColor=\"gray.200\"\n              color=\"brand.600\"\n              size=\"md\"\n            />\n          ) : (\n            <DeleteIcon boxSize={6} />\n          )\n        }\n      />\n    </Flex>\n  );\n};\n\nContact.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  phone: PropTypes.string.isRequired,\n};\n","import { useSelector, useDispatch } from 'react-redux';\nimport { VStack, FormControl, Input } from '@chakra-ui/react';\nimport { FormLabel } from 'components/FormLabel';\nimport { changeFilter } from 'redux/filterSlice';\nimport { selectors } from 'redux/selectors';\n\nexport const Filter = () => {\n  const filterValue = useSelector(selectors.filter);\n  const dispatch = useDispatch();\n\n  // ---------------- handleFilterChange ----------------\n  const handleFilterChange = e => {\n    const currentValue = e.target.value.toLowerCase().trim();\n\n    dispatch(changeFilter(currentValue));\n  };\n\n  // --------------------------------\n  return (\n    <VStack align=\"start\" minW=\"sm\">\n      <FormControl>\n        <FormLabel>Find contacts by name</FormLabel>\n        <Input\n          name=\"filter\"\n          onChange={handleFilterChange}\n          value={filterValue}\n          fontSize=\"lg\"\n          fontWeight=\"bold\"\n          color=\"gray.600\"\n          variant=\"outline\"\n          bg=\"bg.50\"\n          borderColor=\"gray.400\"\n          focusBorderColor=\"brand.600\"\n        />\n      </FormControl>\n    </VStack>\n  );\n};\n","import { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { VStack } from '@chakra-ui/react';\n\nimport { Contact } from 'components/Contact';\nimport { Filter } from 'components/Filter';\nimport { HeadingSection } from 'components/HeadingSection';\nimport { selectContacts } from 'redux/contactsSlice';\nimport { fetchContacts } from 'redux/operations';\nimport { selectors } from 'redux/selectors';\n\nexport const ContactList = () => {\n  const contacts = useSelector(selectContacts);\n  const filterValue = useSelector(selectors.filter);\n  const dispatch = useDispatch();\n\n  // --------------------------------\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n\n  // --------------------------------\n  const getFilteredContacts = () => {\n    return filterValue\n      ? contacts.filter(contact =>\n          contact.name.toLowerCase().includes(filterValue)\n        )\n      : contacts;\n  };\n\n  // --------------------------------\n  return (\n    <VStack\n      as=\"section\"\n      justify=\"start\"\n      align=\"center\"\n      flexGrow=\"1\"\n      spacing=\"6\"\n      px=\"16\"\n      py=\"10\"\n      bg=\"bg.50\"\n    >\n      <HeadingSection>Contacts</HeadingSection>\n      <Filter />\n      <VStack as=\"ul\" alignItems=\"stretch\" alignSelf=\"stretch\">\n        {getFilteredContacts().map(({ _id: id, name, phone }) => (\n          <Contact key={id} id={id} name={name} phone={phone} />\n        ))}\n      </VStack>\n    </VStack>\n  );\n};\n","import { useRef } from 'react';\n\nimport {\n  AlertDialog,\n  AlertDialogBody,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogContent,\n  AlertDialogOverlay,\n  Button,\n  Text,\n} from '@chakra-ui/react';\n\nexport const Dialog = ({ isOpen, name, onClose }) => {\n  const cancelRef = useRef();\n\n  //---------------- Handlers ----------------\n  const handleCancel = () => {\n    onClose(false);\n  };\n  const handleConfirm = () => {\n    onClose(true);\n  };\n\n  //---------------- Return ----------------\n  return (\n    <AlertDialog\n      isOpen={isOpen}\n      leastDestructiveRef={cancelRef}\n      onClose={onClose}\n    >\n      <AlertDialogOverlay>\n        <AlertDialogContent bg=\"bg.50\">\n          <AlertDialogHeader fontSize=\"lg\" fontWeight=\"bold\" as=\"h3\">\n            Update Contact\n          </AlertDialogHeader>\n\n          <AlertDialogBody as=\"p\">\n            <Text as=\"b\">{name}</Text> is in the cotacts already. Do you want to\n            update the contact?\n          </AlertDialogBody>\n\n          <AlertDialogFooter>\n            <Button\n              ref={cancelRef.current}\n              onClick={handleCancel}\n              variant=\"outline\"\n            >\n              Cancel\n            </Button>\n            <Button\n              colorScheme=\"accent\"\n              bg=\"accent.400\"\n              onClick={handleConfirm}\n              ml={3}\n            >\n              Update\n            </Button>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialogOverlay>\n    </AlertDialog>\n  );\n};\n","import { useState, useEffect } from 'react';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { VStack } from '@chakra-ui/react';\nimport { ContactForm } from 'components/ContactForm';\nimport { ContactList } from 'components/ContactList';\nimport { Dialog } from 'components/Dialog';\nimport { selectContacts } from 'redux/contactsSlice';\nimport { selectors } from 'redux/selectors';\nimport { addContact, updateContact } from 'redux/operations';\nimport { useMyToast } from 'hooks/useMyToast';\nimport { clearAuthHeader } from 'utils/phonebookAPI';\nimport { clearUserState } from 'redux/userSlice';\nimport { clearContactsState } from 'redux/contactsSlice';\n\nconst PhoneBook = () => {\n  const contacts = useSelector(selectContacts);\n\n  const error = useSelector(selectors.errorContacts);\n\n  const dispatch = useDispatch();\n  const toast = useMyToast();\n  const [addingContact, setAddingContact] = useState({\n    id: '',\n    name: '',\n    phone: '',\n  });\n  const [showDialog, setShowDialog] = useState(false);\n\n  useEffect(() => {\n    if (error === 'Request failed with status code 401') {\n      clearAuthHeader();\n      dispatch(clearContactsState());\n      dispatch(clearUserState());\n    }\n  }, [dispatch, error]);\n\n  //---------------- Save Contact function ----------------\n  const saveContact = ({ name, phone }) => {\n    const seekingName = name.toLowerCase();\n    const foundContact = contacts.find(\n      contact => contact.name.toLowerCase().trim() === seekingName\n    );\n\n    //  ==== there is no contact in contacts -> add contact\n    if (!foundContact) {\n      dispatch(addContact({ name, phone }));\n      return;\n    }\n\n    //  ==== there is contact in contacts -> show info & do nothing\n    if (foundContact.phone === phone.trim()) {\n      toast({\n        description: `${name} is already in contacts!`,\n        status: 'info',\n      });\n      return;\n    }\n\n    //  ==== there is contact in contacts -> update contact? (show dialog)\n    setAddingContact({ id: foundContact._id, name, phone });\n    setShowDialog(true);\n  };\n\n  //---------------- onClose Dialog ----------------\n\n  const onCloseDialog = isConfirmed => {\n    setShowDialog(false);\n    if (isConfirmed) {\n      const { id, name, phone } = addingContact;\n      dispatch(updateContact({ id, name, phone }));\n    }\n  };\n\n  return (\n    <VStack as=\"main\" justify=\"start\" align=\"stretch\" spacing=\"0\" flexGrow=\"1\">\n      <ContactForm saveContact={saveContact} />\n      <ContactList />\n      <Dialog\n        name={addingContact.name}\n        isOpen={showDialog}\n        onClose={onCloseDialog}\n      />\n    </VStack>\n  );\n};\n\nexport default PhoneBook;\n"],"names":["Button","type","children","isLoading","loadingText","colorScheme","bg","fontWeight","minW","HeadingSection","props","as","fontSize","textAlign","color","Input","name","icon","pointerEvents","InputChakra","paddingLeft","variant","borderColor","focusBorderColor","useMyToast","toast","useToast","title","position","duration","isClosable","description","status","render","p","borderRadius","FormLabel","initialValues","phone","schema","yup","shape","required","min","max","ContactForm","saveContact","addContactIsLoading","useSelector","selectors","py","px","align","justify","spacing","onSubmit","values","resetForm","trim","validationSchema","handleSubmit","errors","mx","maxW","isInvalid","I","ImUser","boxSize","Contact","id","dispatch","useDispatch","whoIsUpdating","gap","flexGrow","onClick","deleteContact","includes","thickness","speed","emptyColor","size","Filter","filterValue","onChange","e","currentValue","target","value","toLowerCase","changeFilter","ContactList","contacts","selectContacts","useEffect","fetchContacts","alignItems","alignSelf","filter","contact","map","_id","Dialog","isOpen","onClose","cancelRef","useRef","leastDestructiveRef","ref","current","ml","error","useState","addingContact","setAddingContact","showDialog","setShowDialog","clearAuthHeader","clearContactsState","clearUserState","seekingName","foundContact","find","addContact","isConfirmed","updateContact"],"sourceRoot":""}